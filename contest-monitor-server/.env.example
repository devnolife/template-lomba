# ===========================================================================
# Contest Monitor Server — Environment Variables
# Copy this file to .env and fill in the values.
# ===========================================================================

# --- Server ---
PORT=3000

# --- MongoDB ---
MONGODB_URI=mongodb://localhost:27017/contest-monitor

# --- JWT ---
JWT_SECRET=change-me-to-a-long-random-string

# --- Admin credentials ---
# Option A: plaintext password (dev only)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=contestadmin2024

# Option B: bcrypt hash (production) — generate with:
#   node -e "require('bcryptjs').hash('yourpassword',10).then(console.log)"
# ADMIN_PASSWORD_HASH=$2a$10$...

# --- CORS ---
# Comma-separated list of allowed origins (leave empty to allow all in dev)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# --- Webhook: Slack ---
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/XXX/YYY/ZZZ

# --- Webhook: Discord ---
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/XXX/YYY

# --- Email (SMTP) ---
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=you@gmail.com
# SMTP_PASS=app-password-here
# ALERT_EMAIL=panitia@contest.com

# --- GitHub Monitoring ---
# Personal access token (classic) with repo scope, or GitHub App installation token
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# --- GitHub OAuth (Admin Login) ---
# Create an OAuth App at: https://github.com/settings/developers
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_CALLBACK_URL=http://localhost:5173/auth/callback

# Comma-separated list of GitHub usernames allowed to access the admin dashboard.
# Leave empty to allow any GitHub user to log in.
GITHUB_ALLOWED_USERS=

# Optional: GitHub App credentials (alternative to PAT)
# GITHUB_APP_ID=12345
# GITHUB_PRIVATE_KEY=-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----

# Sync interval in minutes (how often to poll GitHub for new commits)
GITHUB_SYNC_INTERVAL_MIN=5

# Similarity threshold for plagiarism detection (0.0 - 1.0)
# SIMILARITY_THRESHOLD=0.8

# Contest time boundaries (ISO 8601) — commits outside this window are flagged
# CONTEST_START_TIME=2024-01-01T08:00:00Z
# CONTEST_END_TIME=2024-01-01T17:00:00Z

# --- Logging ---
LOG_LEVEL=info
# LOG_DIR=./logs
